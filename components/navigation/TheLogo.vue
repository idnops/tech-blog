<template>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 230.74 68.27"
    class="app-logo"
    @mouseenter="playLogoAnimation"
    @mouseleave="reverseLogoAnimation"
  >
    <g id="Layer_2" data-name="Layer 2" class="text">
      <path :fill="strokeColor" d="M104,7.91C91.78,26.64,65.76,67.58,58,67.58c-2.88,0-9.75-5.77-9.75-10.09-4.91,6.1-9.32,10.17-12,10.17-3,.08-8.73-5.85-8.73-10.17,0-7.2,16.52-40.25,24.32-50.25C41.7,7.83,6.7,25.63,6.7,43c0,2.88,2.11,2.37,1.35,3.73-1.1,1.61-8-2.8-8-8.14C0,20.79,36.78,1.22,51.87,1.22c3.22,0,6.77,3.3,8.3,5.42.68.6.93,1.36.59,1.78-9.23,15.76-20.34,39.32-23,49.15,6.27-5,10.93-9.32,22.71-29.57,7.63-13.65,16-26.19,17.37-26.19,2,0,6.53,3.56,5.34,5.43C74.15,23.17,64.58,34.61,58.48,57.57c6.27-5,29.23-37,40.93-57.28A.36.36,0,0,1,99.92,0C101.7.12,105.59,5.37,104,7.91Z" />
      <defs>
        <clipPath id="websiteClip">

          <path d="M106.86,15.71c0,.93-1.35,3.05.17,4.58,3.9,3.89,11.61,3.13,11.61,7.62,0,.85-.76,1.61-1.27,2.21-3.13,3.05-15.08,24.07-15.08,27.62,0,3,2,2.63,3.64.94,3.31-3.48,7.2-9.66,9.83-13.56,1.19,0,2.37,1.52,2,3.81-.17,1.1-4.24,9.07-8.73,14.32-1.78,2.12-3.73,4.66-6.95,4.66-2.71,0-8.73-2-8.73-8,0-9,11.36-23.73,16.69-33.05.17-.26-2.45-1-4.74-2.63-2.21,4.15-10,17.2-16.87,27.37-1.27,2-2.2,3.14-2.79,3.14S84,53,83.81,51.47a5.74,5.74,0,0,1,.85-2.54c.93-1.1,2-3,2.63-3.81C93.56,36.39,100,26.47,102.8,22a7,7,0,0,1-1.36-4.07c0-1.44.93-4.57,2.88-4.57A2.55,2.55,0,0,1,106.86,15.71Z" />
          <path d="M133.47,23.51c2.12.84,3.39,2.62,2.71,3.3-6.35,7.21-21.77,33.05-17.45,33.05,1.52,0,12.29-14.15,12.54-14.83,1.19,0,2.54,1.53,2.54,3.82,0,1.35-11.18,19-17,19-3.13,0-7.79-4.66-7.79-9.24,0-8.64,18.22-34.49,19.74-35.42a2.64,2.64,0,0,1,1.87-.43A7.55,7.55,0,0,1,133.47,23.51ZM147,3.59c2.29.85,3.39,2.63,2.79,3.31a108.91,108.91,0,0,0-10.25,14.83c-.93,1.69-8.31-2.38-6.78-5.09,4.66-7.46,8.9-13,9.66-13.39a2.54,2.54,0,0,1,1.87-.42A7.19,7.19,0,0,1,147,3.59Z" />
          <path d="M161.52,3.68c2.21.84,3.39,2.62,2.8,3.39A89.73,89.73,0,0,0,158.56,15c5.17-.77,9.49-1.19,10.68-1.27,7.11-.26,7.79,8.89,5.84,8.89-1.78.17-.08-1.69-6.1-1.52-2.54.08-8.56.51-15.17,1C143.64,37.91,130.84,60,133.9,60c2.2,0,12.28-14.15,12.45-14.83,1.19,0,2.55,1.52,2.55,3.81,0,1.36-11.11,19-17,19-3.14,0-7.8-4.66-7.8-9.23,0-4.92,10.08-21.78,19.07-35.68-5.59.59-10.09,1.18-10.93,1.78C130.08,26,131,21.47,133.56,20c2-1.1,7.62-2.29,13.81-3.39,5.09-7.46,9-13,9.58-13.3a2.53,2.53,0,0,1,1.86-.43A7.59,7.59,0,0,1,161.52,3.68Z" />
          <path d="M152.29,67.74h-.68c-4.83-.59-9.15-8-9.15-12.45,0-11.1,14.32-32,23.55-32,4.16,0,8.48,4.32,8.48,6.78-.17,5.09-9.49,22.12-15.59,22.12a5.33,5.33,0,0,1-5.34-3.73c-2.21,5.6-3.14,10.43-1.27,11.53,4.91,2.79,15.25-8,19.83-14.83,1.18,0,2.54,1.52,2.54,3.81C174.66,51.39,159.91,67.74,152.29,67.74Zm1.61-20.17H154c7.12,0,18.9-19.32,13.31-19.32C164.15,28.25,157.63,38.68,153.9,47.57Z" />
        </clipPath>
      </defs>
      <path
        v-show="loadPath"
        class="pathToFollow"
        clip-path="url(#websiteClip)"
        d="M86.74 50.27 93.74 39.27 98.74 31.27 102.74 24.27 104.74 21.27 104.74 17.27 102.74 17.27 107.74 23.27 115.74 27.27 107.74 36.27 102.74 48.27 97.74 56.27 98.74 63.27 105.74 63.27 112.74 57.27 117.74 47.27 122.74 38.27 129.74 26.27 137.74 14.27 143.74 7.27 113.74 60.27 116.74 64.27 126.74 59.27 139.74 36.27 157.74 7.27 151.74 19.27 140.74 21.27 171.74 17.27 150.74 21.27 128.74 61.27 131.74 64.27 143.74 54.27 151.74 50.27 158.74 49.27 166.74 42.27 171.74 34.27 170.74 28.27 163.74 26.27 157.74 31.27 150.74 40.27 148.74 49.27 147.74 58.27 150.74 63.27 158.74 62.27 166.74 56.27 171.74 48.27"
        fill="none"
        :stroke="strokeColor"
        stroke-width="10"
      />
    </g>
    <circle cx="95.74" cy="56.27" r="12" class="circle" :fill="strokeColor" />
  </svg>
</template>

<script>
import anime from 'animejs'
export default {
  data () {
    return {
      logoAnimation: null,
      circleAnimation: null,
      loadPath: false
    }
  },
  computed: {
    strokeColor () {
      return this.$vuetify.theme.dark ? '#ffffff' : '#000000'
    }
  },
  mounted () {
    this.$nextTick(() => {
      this.loadPath = true
      this.playLogoAnimation()
    })
    this.logoAnimation = anime({
      targets: '.pathToFollow',
      strokeDashoffset: [anime.setDashoffset, 0],
      easing: 'easeInOutSine',
      duration: 600,
      delay: (el, i) => { return i * 500 },
      autoplay: false
    })

    this.circleAnimation = anime({
      targets: '.circle',
      duration: 600,
      translateX: 96,
      autoplay: false
    })

    setTimeout(() => {
      this.reverseLogoAnimation()
    }, 5000)
  },
  methods: {
    playLogoAnimation () {
      if (!this.logoAnimation.completed && this.logoAnimation.began) {
        this.logoAnimation.reverse()
        this.circleAnimation.reverse()
      } else {
        this.logoAnimation.direction = 'normal'
        this.circleAnimation.direction = 'normal'
        this.logoAnimation.play()
        this.circleAnimation.play()
      }
    },
    reverseLogoAnimation () {
      if (!this.logoAnimation.completed) {
        this.logoAnimation.reverse()
        this.circleAnimation.reverse()
      } else {
        this.logoAnimation.direction = 'reverse'
        this.circleAnimation.direction = 'reverse'
        this.logoAnimation.play()
        this.circleAnimation.play()
      }
    }

  }
}
</script>

<style lang="scss" scoped>
  .app-logo{
    height: 30px;
  }
</style>
